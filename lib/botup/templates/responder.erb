module <%= class_name %>
  class Responder
    attr_reader :api, :message, :response
    private :api, :message, :response

    def initialize(api:, message:)
      @api = api
      @message = message

      parser = MessageParser.new(message: message)
      @response = CommandsManager.new(parser: parser).call
    end

    def call
      api.send_message(chat_id: message.chat.id, text: response)
    end
  end
end
